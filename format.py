import io, numpy as np
#@TODO: unfuck the entrance names at some point
supe= """ 
UC MAIN  <40.44321,-79.94225, 950.2>
UC ROUND  <40.44322,-79.94144, 948.4>
UC SQUARED <40.44331,-79.94198, 950>
WIEGAND  <40.44412,-79.94219, 949.8>
PURNELL ROUND <40.44316,-79.94365, 97.8>
PURNELL NW <40.44391,-79.94325, 947.7>
PURNELL CENTER <40.44347,-79.94357, 942>
SKIBO N <40.44125,-79.94145, 960.8>
SKIBO W <40.44074,-79.94157, 975.1>
SKIBO E <40.44096,-79.94108, 975>
CFA S <40.44124,-79.94305, 966>
CFA W <40.44164,-79.94319,966>
CFA N (A) <40.44196,-79.94286, 966>
CFA CENTER <40.44158,-79.94295, 966>
HUNT LIBRARY MAIN <40.44133,-79.94374, 966.5>
HUNT LIBRARY S <40.44099,-79.94402, 964.3>
TEPPER N <40.44161,-79.94210, 956.4>
TEPPER SW <40.44085,-79.94224, 972>
TEPPER SE <40.44073,-79.94293, 969.2>
BAKER W <40.44132,-79.94422, 964.7>
BAKER N (C) <40.44157,-79.94461, 959.3>
BAKER N (B) <40.44164,-79.94511, 956.3>
BAKER N (A) <40.44173,-79.94556, 949.7>
PORTER N (A) <40.44205,-79.94610, 937.6>
PORTER SW (100E) <40.44147,-79.94591, 942.2>
WEAN S <40.44241,-79.94599, 937.6>
DOHERTY MAIN <40.44232,-79.94389, 962.7>
DOHERTY E (A) <40.44249,-79.94412, 916.5>
DOHERTY W (A) <40.44258,-79.94507, 915.8>
DOHERTY S (A, B) <40.44227,-79.94441, 897>
DOHERTY N  <40.44276,-79.94414, 897.7>
DOHERTY CENTER <40.44246,-79.94460, 933>
RESNIK ROUND <40.44237,-79.93969, 948>
RESNIK E <40.44262,-79.94044, 948>
RESNIK NE <40.44271,-79.94026, 948>
HAMMERSCHLAG <40.44121,-79.93909, 984>
HILL BASE <40.44179,-79.93930, 961>
FRATS <40.44188,-79.93848, 966>
FRATS COURTYARD <40.44171,-79.93869, 966>
HILL JUNCTION <40.44152,-79.93910, 974>
HILL RAMP <40.44153,-79.93972, 965>
DONNER MAIN <40.44179,-79.94027, 957>
WEST WING W <40.44265,-79.94059, 948>
WEST WING E <40.44276,-79.94114, 947.4>
MARGARETMORRISON N <40.44265,-79.94143, 948.5>
MARGARETMORRISON ROTUNDA <40.44183,-79.94156, 945.7>
WIEGAND N <40.44369,-79.94158, 949.5>
SCOTT <40.44272,-79.94658, 896.2>
GATES BRIDGE <40.44326,-79.94448, 886.3+15*4>
GATES N HILL<40.44370,-79.94445, 904.2>
GATES VERANDA E <40.44354,-79.94495, 905.5>
GATES GROUND S <40.44309,-79.94483, 878.1>
GATES CENTERS <40.44346,-79.94463, 894>
HEINZ N <40.44442,-79.94555, 910.3>
HEINZ SW <40.44387,-79.94509, 906>
NEWELLSIMON N <40.44365,-79.94552, 905.3>
NEWELLSIMON W A <40.44341,-79.94601, 875.4>
NEWELLSIMON E A <40.44318,-79.94525, 875.2>
NEWELLSIMON CENTER <40.44335,-79.94562, 870>
WEAN SHITE LEVEL <40.44290,-79.94590, 879.8>
WEAN CENTER <40.44273,-79.94587, 906>
CYERT N <40.44446,-79.94368, 930.5>
CYERT S <40.44404,-79.94374, 945.7>
CYERT CENTER <40.44428,-79.94392, 935>
A_INT <40.44258,-79.94334, 954>
B_INT <40.44204,-79.94452, 957>
C_INT <40.44187,-79.94505, 954>
D_INT <40.44214,-79.94495, 953>
E_INT <40.44177,-79.94460, 957>
F_INT <40.44215,-79.94382, 959>
G_INT <40.44295,-79.94268, 949.6>
H_INT <40.44423,-79.94284, 945>
I_INT <40.44340,-79.93904, 948>
J_INT <40.44187,-79.94197, 947>
K_INT <40.44271,-79.94166, 948>
L_INT <40.44234,-79.93946, 947>
M_INT <40.44175,-79.93962, 954>
N_INT <40.44136,-79.93934, 975>
O_INT <40.44158,-79.94066, 954>
P_INT <40.44046,-79.94216, 971>
Q_INT <40.44153,-79.94701, 920>
R_INT <40.44095,-79.94425, 963>
S_INT <40.44171,-79.94222, 954>
T_INT <40.44156,-79.94164, 947>
U_INT <40.44405,-79.94115, 952>
V_INT <40.44274,-79.93939, 941.9>
W_INT <40.44340,-79.93903, 948>
Y_INT <40.44310,-79.93914, 948>
Z_INT <40.44166,-79.94113, 949.5>
AA_INT <40.44389,-79.94311, 948>
BB_INT <40.44216,-79.94682, 916>
CC_INT <40.44192,-79.94699, 916>
BEEP BOOP BEEP BOOP <40.44455,-79.94291, 936>
HEALTH CLINIC <40.44492,-79.94352, 927>
MOREWOOD W <40.44532,-79.94299, 927>
MOREWOOD CENTER <40.44531,-79.94340, 927>
MOREWOOD N <40.44576,-79.94294, 935>
DUMPSTER <40.44099,-79.93960, 982>
BOSS <40.44139,-79.93966, 973>
MCGILL <40.44108,-79.93924, 987>
BJ ALLEY <40.44402,-79.94366, 946>
SCAIFE N <40.44177,-79.94717, 918>
SCAIFE S <40.44164,-79.94721, 918>
SCAIFE CENTER <40.44182,-79.94736, 909>
ROBERTS W <40.44182,-79.94736, 901>
HALL_HAMMERSCHLAG MAIN <40.44228,-79.94631, 918>
HALL_HAMMERSCHLAG N <40.44258,-79.94654, 918>
TEPPER TOWER <40.44091,-79.94257, 969>
"""
supe.strip()
supe.splitlines()
super=""
for val in supe: super+=val

output=""
i=0
dict = {}
cNDEG = 40.44183
cWDEG = -79.94156
currname=""
for c in super:
    if c=='<':
        dict[currname.strip()]=i
        currname=""
        i+=1
    if c in '+*-0123456789,>.':
        output+=c
    elif c in '\<n': continue
    else: currname+=c
output = output.split('>')
output=[output[i].split(',') for i in range(len(output))]
temp=[]
onetothree=0
i=0
for vec in output:
    for val in vec:
        try:temp+=[float(eval(val))]
        except:
            continue
        onetothree+=1
        if onetothree==3: 
            for key in dict:
                if dict[key] == i:
                    dict[key]=temp
            temp=[]   
            onetothree=0 
            i+=1
# with open("Output.txt", "w") as text_file:
#      text_file.write(str(dict))

bigList=[]
good=True
for name in dict:
    bigList+=[{'name':name,'coords':dict[name],'adjacents':[]}]
    if dict[name][0]<0 or dict[name][1]>0:
        print ('ruroh')
np.save('nodeVecDict.npy', dict)
np.save('bigList.npy',{0:bigList}) 

